{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/admin/edit-books/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\ninterface Book {\n  id: string;\n  title: string;\n  description: string;\n  chapters: Chapter[];\n}\n\ninterface Chapter {\n  id: string;\n  title: string;\n  content: string;\n  excerpt: string;\n}\n\nexport default function EditBooksPage() {\n  const [books, setBooks] = useState<Book[]>([\n    {\n      id: \"book1\",\n      title: \"Crown Of Thorns\",\n      description: \"The first tale in the Northumbrian Saga\",\n      chapters: [\n        { id: \"ch1\", title: \"Chapter 1: The Beginning\", content: \"In the cold mists of Northumbria, a tale begins...\", excerpt: \"In the cold mists of Northumbria...\" },\n        { id: \"ch2\", title: \"Chapter 2: The Gathering Storm\", content: \"Dark clouds gather over the moors as conflict approaches...\", excerpt: \"Dark clouds gather over the moors...\" },\n      ]\n    },\n    {\n      id: \"book2\",\n      title: \"The Blood Tides\",\n      description: \"The second tale in the Northumbrian Saga\",\n      chapters: [\n        { id: \"ch1\", title: \"Chapter 1: Rising Waters\", content: \"The tides of war begin to turn...\", excerpt: \"The tides of war begin to turn...\" },\n      ]\n    },\n    {\n      id: \"book3\",\n      title: \"Kingmaker\",\n      description: \"The third tale in the Northumbrian Saga\",\n      chapters: [\n        { id: \"ch1\", title: \"Chapter 1: The Crown's Weight\", content: \"Power comes with a heavy price...\", excerpt: \"Power comes with a heavy price...\" },\n      ]\n    }\n  ]);\n\n  const [selectedBook, setSelectedBook] = useState<string>(\"\");\n  const [selectedChapter, setSelectedChapter] = useState<string>(\"\");\n  const [editingContent, setEditingContent] = useState<string>(\"\");\n  const [editingTitle, setEditingTitle] = useState<string>(\"\");\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n\n  const handleBookSelect = (bookId: string) => {\n    setSelectedBook(bookId);\n    setSelectedChapter(\"\");\n    setIsEditing(false);\n  };\n\n  const handleChapterSelect = (chapterId: string) => {\n    setSelectedChapter(chapterId);\n    const book = books.find(b => b.id === selectedBook);\n    const chapter = book?.chapters.find(c => c.id === chapterId);\n    if (chapter) {\n      setEditingTitle(chapter.title);\n      setEditingContent(chapter.content);\n      setIsEditing(true);\n    }\n  };\n\n  const handleSaveChapter = () => {\n    setBooks(prevBooks => \n      prevBooks.map(book => \n        book.id === selectedBook \n          ? {\n              ...book,\n              chapters: book.chapters.map(chapter =>\n                chapter.id === selectedChapter\n                  ? {\n                      ...chapter,\n                      title: editingTitle,\n                      content: editingContent,\n                      excerpt: editingContent.substring(0, 100) + \"...\"\n                    }\n                  : chapter\n              )\n            }\n          : book\n      )\n    );\n    alert(\"Chapter saved successfully!\");\n  };\n\n  const handleAddChapter = () => {\n    if (!selectedBook) return;\n    \n    const newChapterId = `ch${Date.now()}`;\n    const newChapter: Chapter = {\n      id: newChapterId,\n      title: \"New Chapter\",\n      content: \"Enter your chapter content here...\",\n      excerpt: \"Enter your chapter content here...\"\n    };\n\n    setBooks(prevBooks =>\n      prevBooks.map(book =>\n        book.id === selectedBook\n          ? { ...book, chapters: [...book.chapters, newChapter] }\n          : book\n      )\n    );\n\n    setSelectedChapter(newChapterId);\n    setEditingTitle(newChapter.title);\n    setEditingContent(newChapter.content);\n    setIsEditing(true);\n  };\n\n  const selectedBookData = books.find(b => b.id === selectedBook);\n\n  return (\n    <div className=\"max-w-7xl mx-auto\">\n      <h1 className=\"text-4xl font-unifraktur-cook text-amber-300 mb-8 text-center\">Edit Book Content</h1>\n      \n      <div className=\"grid lg:grid-cols-3 gap-8\">\n        {/* Book Selection */}\n        <div className=\"bg-gradient-to-b from-amber-900/20 to-gray-900/50 p-6 rounded-lg border border-amber-600/30\">\n          <h2 className=\"text-2xl font-medieval-sharp text-amber-300 mb-4\">Select Book</h2>\n          <div className=\"space-y-3\">\n            {books.map(book => (\n              <button\n                key={book.id}\n                onClick={() => handleBookSelect(book.id)}\n                className={`w-full text-left p-3 rounded transition ${\n                  selectedBook === book.id\n                    ? \"bg-amber-800 text-white\"\n                    : \"bg-gray-800 hover:bg-gray-700 text-gray-300\"\n                }`}\n              >\n                <div className=\"font-semibold\">{book.title}</div>\n                <div className=\"text-sm opacity-75\">{book.chapters.length} chapters</div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Chapter Selection */}\n        <div className=\"bg-gradient-to-b from-amber-900/20 to-gray-900/50 p-6 rounded-lg border border-amber-600/30\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-2xl font-medieval-sharp text-amber-300\">Chapters</h2>\n            {selectedBook && (\n              <button\n                onClick={handleAddChapter}\n                className=\"bg-green-700 hover:bg-green-600 text-white px-3 py-1 rounded text-sm transition\"\n              >\n                + Add Chapter\n              </button>\n            )}\n          </div>\n          \n          {selectedBookData ? (\n            <div className=\"space-y-3\">\n              {selectedBookData.chapters.map(chapter => (\n                <button\n                  key={chapter.id}\n                  onClick={() => handleChapterSelect(chapter.id)}\n                  className={`w-full text-left p-3 rounded transition ${\n                    selectedChapter === chapter.id\n                      ? \"bg-amber-800 text-white\"\n                      : \"bg-gray-800 hover:bg-gray-700 text-gray-300\"\n                  }`}\n                >\n                  <div className=\"font-semibold text-sm\">{chapter.title}</div>\n                  <div className=\"text-xs opacity-75 mt-1\">{chapter.excerpt}</div>\n                </button>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-400 text-center py-8\">Select a book to view chapters</p>\n          )}\n        </div>\n\n        {/* Chapter Editor */}\n        <div className=\"bg-gradient-to-b from-amber-900/20 to-gray-900/50 p-6 rounded-lg border border-amber-600/30\">\n          <h2 className=\"text-2xl font-medieval-sharp text-amber-300 mb-4\">Chapter Editor</h2>\n          \n          {isEditing ? (\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-amber-300 font-semibold mb-2\">Chapter Title</label>\n                <input\n                  type=\"text\"\n                  value={editingTitle}\n                  onChange={(e) => setEditingTitle(e.target.value)}\n                  className=\"w-full p-3 rounded bg-gray-800 border border-gray-600 text-white focus:border-amber-500 focus:outline-none\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-amber-300 font-semibold mb-2\">Chapter Content</label>\n                <textarea\n                  value={editingContent}\n                  onChange={(e) => setEditingContent(e.target.value)}\n                  rows={12}\n                  className=\"w-full p-3 rounded bg-gray-800 border border-gray-600 text-white focus:border-amber-500 focus:outline-none resize-vertical\"\n                />\n              </div>\n              \n              <button\n                onClick={handleSaveChapter}\n                className=\"w-full bg-amber-800 hover:bg-amber-700 text-white font-semibold py-3 rounded transition\"\n              >\n                Save Chapter\n              </button>\n            </div>\n          ) : (\n            <p className=\"text-gray-400 text-center py-8\">Select a chapter to edit</p>\n          )}\n        </div>\n      </div>\n\n      {/* Back to Admin */}\n      <div className=\"mt-8 text-center\">\n        <a \n          href=\"/admin\" \n          className=\"inline-block bg-amber-800 hover:bg-amber-700 text-white px-6 py-3 rounded font-medieval-sharp transition\"\n        >\n          ‚Üê Back to Admin Panel\n        </a>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}